## 表结构
### 公司（sys_company）

|字段名             |字段设置      |字段长度  |是否主键|是否非空|字段说明           |备注                    |
|-------------------|--------------|---------:|:----:|:----:|-----------------------|------------------------|
|id                 |int8          |64        |  是  |  是	|	                    |                        |
|name               |varchar       |20        |      |  是  |公司名称	            |唯一约束                |
|address            |varchar       |50        |      |  是  |公司地址	            |                        |                 
|contacts           |varchar       |20        |      |  是  |对接人姓名	            |                        |                 
|mobile             |varchar       |11        |      |  是  |对接人手机	            |                        |                 
|fax                |varchar       |16        |      |      | 对接人传真	        |                        |                 
|email              |varchar       |32        |      |      | 对接人邮箱	        |                        |                 
|link               |varchar       |100       |      |      | 对接人其他联系方式	|                        |                 
|remark             |text          |          |      |      | 备注	                |                        |                     
|del                |bool          |          |      |  是  |是否删除	            |                        |                   
|version            |int4          |32        |      |  是  |版本号	                |    乐观锁              |                           
|create_date        |timestamp     | 6        |      |      | 创建时间	            |                        |                                     


### 公司与功能关联表（sys_r_company_permission）	
|字段名             |字段设置      |字段长度  |是否主键|是否非空|字段说明           |备注                    |
|-------------------|--------------|---------:|:----:|:----:|-----------------------|------------------------|					
|c_id	            |int8	       |64		  |      |是    |角色id                 |                        |	
|p_id	            |int8	       |64		  |      |是    |功能id                 |                        |	

### 权限范围（sys_scope_template）
|字段名             |字段设置      |字段长度  |是否主键|是否非空|字段说明           |备注                    |
|-------------------|--------------|---------:|:----:|:----:|-----------------------|------------------------|	
|id                 |int8          |64       |是   | 是    |                        |                        |
|name               |varchar       |20       |     | 是    |权限名称                |唯一约束                |
|remark             |text          |         |     |       |备注                    |                        |
|version            |int4          |         |     | 是    |版本号                  |乐观锁                  |   
|create_date        |timestamp     |6        |     |       |创建时间                |                        |              

### 权限范围与功能关联表（sys_r_template_permission）	
|字段名             |字段设置      |字段长度  |是否主键|是否非空|字段说明           |备注                    |
|-------------------|--------------|---------:|:----:|:----:|-----------------------|------------------------|					
|c_id	            |int8	       |64		  |      |是    |权限范围id             |                        |	
|p_id	            |int8	       |64		  |      |是	|功能id                 |                        |

### 模块（sys_module）
|字段名             |字段设置      |字段长度  |是否主键|是否非空|字段说明           |备注                    |
|-------------------|--------------|---------:|:----:|:----:|-----------------------|------------------------|
|id                 |int8          |64        |是    |是    |                       |                        |
|name               |varchar       |20        |      |是    |模块名称               |         唯一约束       |
|domain             |varchar       |50        |      |是    |域名                   |                        |
|remark             |text          |          |      |      |备注                   |                        |
|version            |int4          |          |      |是    |版本号                 |         乐观锁         |
|create_date        |timestamp     |6         |      |      |创建时间               |                        |

### 功能（sys_permission）						
|字段名             |字段设置      |字段长度  |是否主键|是否非空|字段说明           |备注                    |
|-------------------|--------------|---------:|:----:|:----:|-----------------------|------------------------|
|id                 | int8         |   64     | 是   |  是  |                       |                        |                                                
|name               | varchar      |   20     |      |  是  |功能名称               |    唯一约束            |                                                        
|code               | varchar      |   50     |      |  是  |功能代码               |                        |                                                       
|url                | varchar      |   50     |      |  是  |路径                   |                        |                                                      
|module_id          | int8         |   64     |      |  是  |所属模块               |                        |                                                           
|remark             | text         |          |      |      |备注                   |                        |                                                                                                     
|version            | int4         |          |      |  是  |版本号                 |     乐观锁             |                                                     
|create_date        | timestamp    |   6      |      |      |创建时间               |                        |                                                                                                                                 
 
### 角色（sys_role）						
|字段名             |字段设置      |字段长度  |是否主键|是否非空|字段说明           |备注                    |
|-------------------|--------------|---------:|:----:|:----:|-----------------------|------------------------|
|id                 |int8          |  64      |是    |  是  |                       |                        |                             
|name               |varchar       |  20      |      |  是  | 角色名称              |        唯一约束        |                                     
|type               |int           |  1       |      |  是  | 系统可见类型（0-pms 1-核心系统）|              |                                                
|tenant_id          |int8          |  64      |      |  是  | 所属公司              |         type不为0有效  |                                       
|remark             |text          |          |      |      | 备注                  |                        |                               
|del                |bool          |          |      |  是  | 是否删除              |                        |                               
|version            |int4          |  32      |      |  是  | 版本号                |             乐观锁     |                                    
|create_date        |timestamp     |  6       |      |      | 创建时间              |                        |                                                                                          

### 角色与功能关联表（sys_r_role_permission）						
|字段名             |字段设置      |字段长度  |是否主键|是否非空|字段说明           |备注                    |
|-------------------|--------------|---------:|:----:|:----:|-----------------------|------------------------|
|r_id               |	int8       |	64	  |	     |是    |	角色id              |                        |	
|p_id               |	int8       |	64	  |	     |是    |	功能id              |                        |
	
### 人员（sys_employee）						
|字段名             |字段设置      |字段长度  |是否主键|是否非空|字段说明           |备注                    |
|-------------------|--------------|---------:|:----:|:----:|-----------------------|------------------------|
|id                 | int8         | 64       |  是  |是    |                       |                        |     
|is_platform_user   | bool         |          |      |是    |  是否为平台用户       |                        |                        
|job_no             | varchar      | 32       |      |是    |  人员账号             |                        |               
|name               | varchar      | 20       |      |是    |  人员姓名             |                        |             
|avater             | varchar      | 100      |      |是    |  头像                 |                        |                
|mobile             | varchar      | 11       |      |是    |  手机                 |                        |                
|passwd             | varchar      | 64       |      |      |  密码                 |                        |              
|salt               | varchar      | 32       |      |      |  盐                   |                        |            
|tenent_id          | int8         | 64       |      |      |  所属公司             |                        |              
|role_id            | int8         | 64       |      |      |  角色ID               |                        |            
|remark             | text         |          |      |      |  备注                 |                        |         
|del                | bool         |          |      |是    |  是否删除             |                        |       
|version            | int4         | 32       |      |是    |  版本号               |         乐观锁         |                
|create_date        | timestamp    | 6        |      |      |  创建时间             |                        |                                            

### 平台管理员（sys_admin）
|字段名	            |    字段设置  | 字段长度 |是否主键|是否非空 | 字段说明         |          备注          |
|-------------------|--------------|---------:|-----:|-----:|-----------------------|------------------------|
|id	                | int8	       | 64       |  是  |  是  |                       |                        |
|job_no	            | varchar	   | 32		  |      |  是  | 人员账号              | 唯一约束               |
|name	            | varchar      | 20       |      |  是  | 人员姓名              |                        |
|mobile             | varchar	   | 11		  |      |  是  | 手机                  |                        |
|password           | varchar      | 64       |      |  是  | 密码                  |                        |
|salt	            | varchar      | 32       |      |  是  | 盐                    |                        |
|status             | varchar      | 20       |      |  是  | 状态                  | dimission("离职"), inservice("在职")|
|remark             | text         |          |      |  是  | 备注                  |                        |
|version            | int4         | 32       |      |  是  | 版本号                | 乐观锁                 |
|create_date        | timestamp    | 6        |      |  是  | 创建时间              |                        |

##对象删除依赖检查

###资源

* 目的地（区域）
* 酒店（目的地）
* 餐饮点（目的地）
* 娱乐（目的地）
* 景点（父景点、目的地）
* 供应商（无）
* 元素（资源[resourceType和resourceId]）

##交通

* 座位布局（无）
* 车辆（座位布局）
* 车次（节点类型，目的地）
* 线路（车次）
* 车次排班（车次、车辆、助理）
* 节点类型（无）

##产品

* 产品（元素、车次、线路[行程产品]）